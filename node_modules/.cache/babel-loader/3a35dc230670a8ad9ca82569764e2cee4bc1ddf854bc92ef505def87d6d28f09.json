{"ast":null,"code":"import{useEffect,useState}from\"react\";import{motion}from\"framer-motion\";import*as admin from\"../api/admin\";import Navbar from\"../components/Navbar\";import Loader from\"../components/Loader\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminOverview(){const[stats,setStats]=useState(null);const[err,setErr]=useState(\"\");useEffect(()=>{admin.getOverview().then(_ref=>{let{data}=_ref;return setStats(data);}).catch(e=>{var _e$response,_e$response$data;return setErr((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||\"Not authorized / failed to load\");});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(motion.h1,{initial:{opacity:0},animate:{opacity:1},className:\"text-3xl font-bold mb-6\",children:\"Admin Overview\"}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 rounded bg-red-50 text-red-700 p-3\",children:err}),!stats&&!err&&/*#__PURE__*/_jsx(Loader,{}),stats&&/*#__PURE__*/_jsxs(motion.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},className:\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:stats.total_users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Total Cards\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:stats.total_cards})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Payments (count)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:stats.total_payments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Revenue (INR)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold\",children:[\"\\u20B9\",stats.total_revenue]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-5 sm:col-span-2 lg:col-span-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Today\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mt-1\",children:[\"Users: \",stats.today_users,\" \\u2022 Payments: \",stats.today_payments]})]})]})]})]});}","map":{"version":3,"names":["useEffect","useState","motion","admin","Navbar","Loader","jsx","_jsx","jsxs","_jsxs","AdminOverview","stats","setStats","err","setErr","getOverview","then","_ref","data","catch","e","_e$response","_e$response$data","response","message","className","children","h1","initial","opacity","animate","div","y","total_users","total_cards","total_payments","total_revenue","today_users","today_payments"],"sources":["/Users/sreejapodupuganti/Documents/GitHub/Digicard-with-NFC/src/pages/AdminOverview.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport * as admin from \"../api/admin\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Loader from \"../components/Loader\";\r\n\r\nexport default function AdminOverview() {\r\n    const [stats, setStats] = useState(null);\r\n    const [err, setErr] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        admin.getOverview()\r\n            .then(({ data }) => setStats(data))\r\n            .catch((e) => setErr(e?.response?.data?.message || \"Not authorized / failed to load\"));\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <Navbar />\r\n            <div className=\"max-w-5xl mx-auto px-4 py-8\">\r\n                <motion.h1 initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"text-3xl font-bold mb-6\">\r\n                    Admin Overview\r\n                </motion.h1>\r\n\r\n                {err && <div className=\"mb-4 rounded bg-red-50 text-red-700 p-3\">{err}</div>}\r\n                {!stats && !err && <Loader />}\r\n\r\n                {stats && (\r\n                    <motion.div\r\n                        initial={{ y: 14, opacity: 0 }}\r\n                        animate={{ y: 0, opacity: 1 }}\r\n                        className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\"\r\n                    >\r\n                        <div className=\"bg-white rounded-xl shadow p-5\">\r\n                            <p className=\"text-gray-500\">Total Users</p>\r\n                            <p className=\"text-2xl font-bold\">{stats.total_users}</p>\r\n                        </div>\r\n                        <div className=\"bg-white rounded-xl shadow p-5\">\r\n                            <p className=\"text-gray-500\">Total Cards</p>\r\n                            <p className=\"text-2xl font-bold\">{stats.total_cards}</p>\r\n                        </div>\r\n                        <div className=\"bg-white rounded-xl shadow p-5\">\r\n                            <p className=\"text-gray-500\">Payments (count)</p>\r\n                            <p className=\"text-2xl font-bold\">{stats.total_payments}</p>\r\n                        </div>\r\n                        <div className=\"bg-white rounded-xl shadow p-5\">\r\n                            <p className=\"text-gray-500\">Revenue (INR)</p>\r\n                            <p className=\"text-2xl font-bold\">₹{stats.total_revenue}</p>\r\n                        </div>\r\n                        <div className=\"bg-white rounded-xl shadow p-5 sm:col-span-2 lg:col-span-1\">\r\n                            <p className=\"text-gray-500\">Today</p>\r\n                            <p className=\"text-lg mt-1\">Users: {stats.today_users} • Payments: {stats.today_payments}</p>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}